import smtplib
from email.mime.multipart import MIMEMultipart
from email.mime.text import MIMEText

# Replace placeholders with your actual values
sendgrid_username = "your_sendgrid_username"
sendgrid_password = "your_sendgrid_password"
from_email = "your@email.com"
to_email = "recipient@email.com"

# Read DNS records from the file
with open("dns_records.json", "r") as file:
    dns_records = file.read()

# Create the email message
message = MIMEMultipart()
message["From"] = from_email
message["To"] = to_email
message["Subject"] = "DNS Records Information"

# Format the DNS records for the email body
body = f"""
DNS Records Information:

{dns_records}
"""

# Attach the email body
message.attach(MIMEText(body, "plain"))

# Send the email using SendGrid
try:
    server = smtplib.SMTP("smtp.sendgrid.net", 587)
    server.starttls()
    server.login(sendgrid_username, sendgrid_password)
    server.sendmail(from_email, to_email, message.as_string())
    server.quit()
    print("Email sent successfully!")
except Exception as e:
    print("An error occurred:", str(e))
